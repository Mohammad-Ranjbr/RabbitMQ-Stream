ğŸ“Œ Offset Concept in RabbitMQ Stream
ğŸ”¹ What is Offset?
Offset is a unique number for each message in a Stream that specifies the order of messages.
ğŸ”¹ When a Consumer (message consumer) reads messages in a RabbitMQ Stream,
RabbitMQ uses Offset to understand how far this Consumer has processed the messages.

If a Consumer reads the messages from the beginning:
âœ… It will first receive message 0, then 1, then 2, and so on.
But if a new Consumer joins the Stream after 5 messages have been sent:
âœ… It can choose to read only message 5 onwards.

Types of Offset in RabbitMQ Stream
ğŸ”¹ In RabbitMQ Stream, you can specify from which point a Consumer should start reading messages.

âœ… 1. Read from the first message (all previous and new messages)
        - OffsetSpecification.first()

âœğŸ¼ Explanation:
Reads all previous messages + new messages.
Even if the Consumer is turned off and on again, it will start reading again from the first message.

âœ… 2. Read from new messages (previous messages are not read)
        - OffsetSpecification.next()

âœğŸ¼ Explanation:
Only new messages sent after the Consumer is turned on are read.
Older messages in the Stream are ignored.

âœ… 3. Reading from the last section of messages
        - OffsetSpecification.last()

âœğŸ¼ Explanation:
Starts reading from the most recent saved messages.
For example, if there are 100 messages in the Stream, they may only be read from message 90 onwards.

âœ… 4. Reading based on a specific time
        - OffsetSpecification.timestamp(Instant.now().minusSeconds(300))

âœğŸ¼ Explanation:
You can specify that messages from a specific time onwards are read.
For example, all messages sent in the last 5 minutes.

ğŸ“Œ Storing Offset in RabbitMQ
ğŸ”¹ RabbitMQ automatically stores the Offset of each Consumer.
ğŸ”¹ If the application is shut down and restarted, it will continue from the last message read.

âœ… Unique naming for each Consumer must have a unique name so that RabbitMQ can track the Offset read.

ğŸš¨ Important note:
If two Consumers share the same name, they may randomly share messages between each other.


